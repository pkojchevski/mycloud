{"version":3,"sources":["../../src/providers/image-handler/image-handler.ts","../../src/providers/comments/comments.ts","../../src/providers/messaging/messaging.ts","../../src/pages/tabs/tabs.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/about/about.ts","../../src/pages/contact/contact.ts","../../src/pages/home/home.ts","../../src/pages/edit-user-modal/edit-user-modal.ts","../../src/app/app.firebaseconfig.ts","../../src/validators/username.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/auth/auth.ts","../../src/app/app.component.ts","../../src/components/progress-bar.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n// import { File } from '@ionic-native/file';\r\n// import { FileChooser } from '@ionic-native/file-chooser';\r\n// import { FilePath } from '@ionic-native/file-path';\r\nimport firebase from 'firebase';\r\n// import { Camera, CameraOptions } from \"@ionic-native/camera\";\r\nimport { AuthProvider } from \"../auth/auth\";\r\nimport { CommentsProvider } from \"../comments/comments\";\r\nimport { Events } from 'ionic-angular';\r\nimport { AngularFireOfflineDatabase, AfoListObservable } from 'angularfire2-offline/database';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\n\r\n@Injectable()\r\nexport class ImageHandlerProvider {\r\n  nativePath: any;\r\n  firestore = firebase.storage();\r\n  base64Image: string;\r\n  nrOfPic: number;\r\n  imagesRef = firebase.database().ref('/images');\r\n  commentsRef = firebase.database().ref('/comments');\r\n  imagesStorage = firebase.storage().ref('/images');\r\n  currentUser;\r\n\r\n  // options: CameraOptions = {\r\n  //   quality:40,\r\n  //   destinationType:this.camera.DestinationType.DATA_URL,\r\n  //   sourceType: this.camera.PictureSourceType.PHOTOLIBRARY\r\n  // };\r\n\r\n  constructor(public authService: AuthProvider,\r\n              public commentsService: CommentsProvider, public events: Events, \r\n              public afodb: AngularFireOfflineDatabase, public afiredb: AngularFireDatabase,\r\n              public afAuth: AngularFireAuth) {\r\n     \r\n    this.afAuth.authState.subscribe(res => {\r\n      // console.log('res:'+JSON.stringify(res));\r\n      this.currentUser = res;\r\n    })\r\n  }\r\n\r\n  // getCurrentUserData() {\r\n  //   return this.afdb.list('/users', {\r\n  //       query: {\r\n  //           orderBy:'uid',\r\n  //           equalTo: this.currentUser\r\n  //       }\r\n  //     })\r\n  //   }\r\n  \r\n\r\n  addUserPicInStorage(file) {\r\n    // console.log('imgStr:'+imgStr);\r\n    var promise = new Promise((resolve, reject) => {\r\n      this.firestore.ref('/profileImages').child(firebase.auth().currentUser.uid).\r\n       put(file).then((snapshot) => {\r\n         this.firestore.ref('/profileImages').child(firebase.auth().currentUser.uid).getDownloadURL().then((url) => {\r\n         resolve(url);\r\n         }).catch(err => {\r\n          reject(err);\r\n        })\r\n        }).catch(err => {\r\n        reject(err);\r\n      })\r\n      })\r\n    return promise;\r\n  }\r\n\r\naddPicInStorage(file) {\r\n  return new Promise((resolve, reject) => {\r\n    let storageuid = firebase.auth().currentUser.uid + '_' + new Date().toISOString();\r\n    let uploadFile = this.firestore.ref('/images').child(storageuid).put(file);\r\n    uploadFile\r\n    // .on(\"state_changed\", (snapshot) => {\r\n    //   var bytes = Math.trunc(snapshot['bytesTransferred']/snapshot['totalBytes']*100);\r\n    //   if(typeof bytes !== undefined && isFinite(bytes)) {\r\n    //     this.events.publish('progressBar', {'progress':bytes});\r\n    //   }\r\n    //  }, \r\n    //  (err) => {\r\n    //    aert(err);\r\n    //  },\r\n    //  ():any => {\r\n    //     var url = storeImageAsString.snapshot.downloadURL;\r\n    //     console.log('url:'+url);\r\n    //     resolve({'url':url, 'storageuid':storageuid});\r\n    //  }\r\n    // )\r\n    .then((snapshot) => {\r\n       this.firestore.ref('/images').child(storageuid)\r\n       .getDownloadURL().then(url => {\r\n         resolve({'url':url, 'storageuid':storageuid});\r\n       })\r\n       .catch((err) => {\r\n       console.log('err:'+JSON.stringify(err));\r\n       });\r\n    }).catch((err) => {\r\n       console.log('err:'+JSON.stringify(err));\r\n    });\r\n  })\r\n}\r\n\r\naddPicUrlInDatabase(place, comment, imgUrl, user, storageuid) {\r\n   var promise = new Promise((resolve, reject) => {\r\n     let d = new Date();\r\n     let newImgKey = firebase.database().ref('/images').push().key;\r\n      firebase.database().ref('/images').\r\n        child(newImgKey).set({\r\n        uid: firebase.auth().currentUser.uid,\r\n        createdAt: (\"0\" + d.getDate()).slice(-2) + \"-\" + (\"0\"+(d.getMonth()+1)).slice(-2) + \"-\" +\r\n        d.getFullYear() + \" \" + (\"0\" + d.getHours()).slice(-2) + \":\" + (\"0\" + d.getMinutes()).slice(-2),\r\n        place: place,\r\n        imgUrl: imgUrl,\r\n        storageuid:storageuid,\r\n        picuid: newImgKey,\r\n        displayName:user.displayName,\r\n        photoUrl: user.photoUrl,\r\n        title: comment\r\n      })\r\n      .then(() => {\r\n          this.incrNrOfPic().then(()=> {\r\n            resolve(true);\r\n          })\r\n      })\r\n      .catch((err) => {\r\n        reject(err);\r\n      })\r\n      })\r\n   return promise;\r\n}\r\n\r\n\r\n\r\n// getImagesFromUser(uid) {\r\n//   //  return this.afoDatabase.list('/images', {\r\n//   //    query: {\r\n//   //      uid:uid\r\n//   //    }\r\n//   //  });\r\n// }\r\n\r\ngetImgFromUrl(url) {\r\n  return new Promise((resolve, reject) => {\r\n   this.imagesRef.orderByChild('imgUrl').equalTo(url).once('child_added', (snap) => {\r\n     resolve(snap.val());\r\n   }).catch((err) => {\r\n     reject(err);\r\n   })\r\n  })\r\n}\r\n\r\ngetImageFromUid(picuid) {\r\n  return new Promise((resolve, reject) => {\r\n   this.imagesRef.orderByChild('picuid').equalTo(picuid).on('child_added', (snap) => {\r\n      resolve(snap.val());\r\n    })\r\n  })\r\n\r\n}\r\n\r\ngetAllImages() {\r\n   return this.afodb.list('/images');\r\n  // return new Promise((resolve, reject) => {\r\n  //   let images = [];\r\n  //   this.imagesRef.once('value', (snap) => {\r\n  //     for(var key in snap.val()) {\r\n  //       images.push(snap.val()[key]);\r\n  //     }\r\n  //   }).then(() => {\r\n  //     resolve(images);\r\n  //   }).catch((err) => {\r\n  //     reject(err);\r\n  //   })\r\n  // })\r\n}\r\n\r\ngetImagesOfCurrentUser() {\r\n   return this.afodb.list('/images', {\r\n    query: {\r\n      orderByChild: 'uid',\r\n      equalTo: firebase.auth().currentUser.uid\r\n    }\r\n})\r\n}\r\n\r\ndeleteImageFromStorage(img) {\r\n  //console.log('deleteimagefromstorage');\r\n  var promise = new Promise((resolve, reject) => {\r\n    this.firestore.ref().child('/images/'+img.storageuid).delete().then(() => {\r\n    this.deleteImageFromDatabase(img).then(() => {\r\n      resolve(true);\r\n    })\r\n  }).catch(err => {\r\n    //console.log('err:'+JSON.stringify(err));\r\n    reject(err);\r\n  })\r\n})\r\nreturn promise;\r\n}\r\n\r\ndeleteImageFromDatabase(img) {\r\n  //console.log('deleteimagesfromdatabase');\r\n return new Promise((resolve, reject) => {\r\n   this.imagesRef.child(img.picuid).remove().\r\n    // this.imagesRef.orderByChild('picuid').equalTo(img.picuid).on('value', (snap) => {\r\n    //   if(snap !== null) {\r\n    //     snap.ref.remove().\r\n    then(() => {\r\n          this.decrNrOfPic().then(() => {\r\n            resolve(true);\r\n        }).catch((err) => {\r\n          alert(err);\r\n          reject('err:'+JSON.stringify(err));\r\n        })\r\n      }).catch(err => {\r\n        alert('err:'+JSON.stringify(err));\r\n        reject(err);\r\n      })\r\n    })\r\n      //  .once('value', (snap) => {\r\n//          console.log('snap:'+JSON.stringify(snap.val()));\r\n//           snap.ref.remove().then(() => {\r\n//             this.decrNrOfPic().then(() => {\r\n//             resolve(true);\r\n//             })\r\n//             .catch((err) => {\r\n//               alert(err);\r\n//               reject(err);\r\n//             });\r\n//         }).catch((err) => {\r\n//           alert(err);\r\n//           reject(err);\r\n//         })\r\n//  })\r\n\r\n}\r\n\r\n// getnrOfPic() {\r\n//   console.log('getnrOfPic');\r\n//     var promise = new Promise((resolve, reject) => {\r\n//     firebase.database().ref(`/userProfile/${firebase.auth().currentUser.uid}`).\r\n//       on('value', (snap) => {\r\n//         console.log('user snap:'+JSON.stringify(snap));\r\n//         this.nrOfPic = snap.val().nrOfPic;\r\n//         resolve({'nrOfPic':this.nrOfPic})\r\n//       })\r\n//   })\r\n//   return promise;\r\n// }\r\n\r\nincrNrOfPic() {\r\n // console.log('incnrOfPic');\r\n   return new Promise((resolve, reject) => {\r\n    // this.getnrOfPic().then((res) => {\r\n      firebase.database().ref('/userProfile').child(firebase.auth().currentUser.uid).once('value', (snap) => {\r\n        let nrOfPic = snap.val().nrOfPic;\r\n      firebase.database().ref('/userProfile').child(firebase.auth().currentUser.uid).update({\r\n         nrOfPic : nrOfPic + 1\r\n       }).then(() => {\r\n         resolve(true);\r\n       }).catch(err => {\r\n         alert(err);\r\n         reject(err);\r\n       })\r\n   }).catch((err) => {\r\n      //console.log('err:'+err);\r\n      reject(err);\r\n   }) \r\n   }) \r\n}\r\n\r\ndecrNrOfPic() {\r\n  //console.log('decnrOfPic');\r\n  return new Promise((resolve, reject) => {\r\n    // this.getnrOfPic().then((res) => {\r\n      firebase.database().ref('/userProfile').child(firebase.auth().currentUser.uid).once('value', (snap)=> {\r\n       //console.log('nrOfPic snap:'+JSON.stringify(snap.val()));\r\n        let nrOfPic = snap.val().nrOfPic;\r\n       firebase.database().ref('/userProfile').child(firebase.auth().currentUser.uid).update({\r\n         nrOfPic : nrOfPic - 1\r\n       }).then(() => {\r\n        resolve(true);\r\n       })\r\n       .catch((err) => {\r\n         alert(err);\r\n         reject(err);\r\n       })\r\n    }).catch((err) => {\r\n    //   console.log('err:'+err);\r\n       reject(err);\r\n    })\r\n  })\r\n}\r\n\r\nreverseString(str) {\r\n  //console.log('str:'+str);\r\n    // Step 1. Use the split() method to return a new array\r\n    var splitString = str.split(\"\"); // var splitString = \"hello\".split(\"\");\r\n    // [\"h\", \"e\", \"l\", \"l\", \"o\"]\r\n \r\n    // Step 2. Use the reverse() method to reverse the new created array\r\n    var reverseArray = splitString.reverse(); // var reverseArray = [\"h\", \"e\", \"l\", \"l\", \"o\"].reverse();\r\n    // [\"o\", \"l\", \"l\", \"e\", \"h\"]\r\n \r\n    // Step 3. Use the join() method to join all elements of the array into a string\r\n    var joinArray = reverseArray.join(\"\"); // var joinArray = [\"o\", \"l\", \"l\", \"e\", \"h\"].join(\"\");\r\n    // \"olleh\"\r\n    \r\n    //Step 4. Return the reversed string\r\n    return joinArray; // \"olleh\"\r\n}\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/image-handler/image-handler.ts","import { Injectable } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class CommentsProvider {\r\n\r\nimagesRef = firebase.database().ref('/images');\r\ncommentsRef = firebase.database().ref('/comments');\r\nusersRef = firebase.database().ref('/userProfile');\r\n\r\n  constructor() {\r\n  }\r\n\r\n  saveComment(img, comment, user) {\r\n  var d = new Date();\r\n   return new Promise((resolve, reject) => {\r\n    let newCommentKey = this.commentsRef.push().key;\r\n    this.commentsRef.child(newCommentKey).set({\r\n      useruid: firebase.auth().currentUser.uid,\r\n      userPhoto: user.photoUrl,\r\n      displayName: user.displayName,\r\n      picuid:img.picuid,\r\n      comment: comment,\r\n      createdAt: (\"0\" + d.getDate()).slice(-2) + \"-\" + (\"0\"+(d.getMonth()+1)).slice(-2) + \"-\" +\r\n      d.getFullYear() + \" \" + (\"0\" + d.getHours()).slice(-2) + \":\" + (\"0\" + d.getMinutes()).slice(-2)\r\n    });\r\n      resolve(true);\r\n   })\r\n  } \r\n\r\n  getAndCompleteCommentsForImage(img) {\r\n    return new Promise((resolve, reject) => {\r\n      let arr = [];\r\n      let comment;\r\n      let side = true;\r\n       this.commentsRef.orderByChild('picuid').equalTo(img.picuid).on('child_added', (snap) => {\r\n         comment = snap.val();\r\n         comment['side'] = side;\r\n         side = !side;         \r\n          arr.push(comment);\r\n          resolve(arr);\r\n       })\r\n       \r\n    })\r\n  }\r\n\r\n  deleteComment(img) {\r\n    return new Promise((resolve,reject) => {\r\n      this.commentsRef.orderByChild('picuid').equalTo(img.picuid).on('child_added', (snap) => {\r\n        if(snap !== null) {\r\n        snap.ref.remove().then(()=> {\r\n          resolve(true);\r\n        }).catch(err => {\r\n          reject(err);\r\n        })\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/comments/comments.ts","import { Injectable, Inject } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\nimport { AuthProvider } from '../auth/auth';\r\n\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\nimport 'rxjs/add/operator/take';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { Events } from 'ionic-angular';\r\n\r\n\r\n@Injectable()\r\nexport class MessagingProvider {\r\n  private messaging = firebase.messaging();\r\n  currentMessage =  new BehaviorSubject(null);\r\n\r\n  constructor(private authService: AuthProvider, \r\n              private afdb: AngularFireDatabase,\r\n              private afAuth: AngularFireAuth, private events : Events) {\r\n    \r\n  }\r\n\r\n  private updateToken(token) {\r\n    this.afAuth.authState.take(1).subscribe(user => {\r\n      if(!user) return;\r\n      const data = {[user.uid]: token};\r\n      this.afdb.object('fcmTokens/').update(data);\r\n    })\r\n  }\r\n\r\n  getPermission() {\r\n    this.messaging.requestPermission()\r\n    .then(() => {\r\n      console.log('Permission granted!');\r\n      return this.messaging.getToken();\r\n    })\r\n    .then(token => {\r\n      console.log('token:', token);\r\n      this.updateToken(token);\r\n    })\r\n    .catch(err => {\r\n      console.log('Unable to get token:', err);\r\n    })\r\n  }\r\n\r\n  receiveMessage() {\r\n      this.messaging.onMessage(payload => {\r\n        console.log('Message received:'+JSON.stringify(payload));\r\n        this.currentMessage.next(payload);\r\n        if(payload['data'].imageid) {\r\n          this.events.publish('imagesIncr', payload['data'].imageid);\r\n        }\r\n        if(payload['data'].imgcommentid) {\r\n          console.log('publish comments');\r\n          this.events.publish('commentsIncr', payload['data'].imgcommentid);\r\n        }\r\n        if(payload['data'].userid) {\r\n          this.events.publish('usersIncr', payload['data'].userid);\r\n        } \r\n     })\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/messaging/messaging.ts","import { Component } from '@angular/core';\r\n\r\nimport { AboutPage } from '../about/about';\r\nimport { ContactPage } from '../contact/contact';\r\nimport { HomePage } from '../home/home';\r\n\r\nimport { Tab, Platform, NavParams, Events } from 'ionic-angular'\r\nimport { MessagingProvider } from '../../providers/messaging/messaging';\r\n\r\n// import { Badge } from '@ionic-native/badge';\r\n\r\n\r\n// import { Firebase } from '@ionic-native/firebase';\r\n\r\n@Component({\r\n  templateUrl: 'tabs.html'\r\n})\r\n\r\nexport class TabsPage {\r\n  tab1Root = HomePage;\r\n  tab2Root = AboutPage;\r\n  tab3Root = ContactPage;\r\n  // notificationData = {data:{}};\r\n  imagesCount = 0;\r\n  usersCount = 0;\r\n  commentsCount = 0;\r\n  message;\r\n  imageid;\r\n  userid;\r\n\r\n  constructor(private navParams: NavParams, public event: Events, private msgService: MessagingProvider) {\r\n    this.msgService.getPermission();\r\n    console.log('constructor tabs');\r\n    event.subscribe('imagesIncr',(imagesid) => {\r\n      console.log('subscribe');\r\n        this.imagesCount++;\r\n    })\r\n    event.subscribe('commentsIncr', (imgcommentid) => {\r\n      this.commentsCount++;\r\n      console.log('subscribe on comments:'+this.commentsCount);\r\n    })\r\n  }\r\n  \r\n  tabSelected(tab: Tab) {\r\n    if(tab.index === 1) {\r\n      this.imagesCount = 0;\r\n      this.commentsCount = 0;\r\n      console.log('imagesCount reset:'+this.imagesCount);\r\n      console.log('on reset commentsCount:'+this.commentsCount);\r\n    } \r\n    if(tab.index === 2) {\r\n      this.usersCount = 0;\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionviewdidload tabs');\r\n   \r\n  }\r\n\r\n  ionViewWillEnter() {\r\n  console.log('ionviewwillenter tabs');\r\n  };\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 214;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 214\n// module chunks = 5","var map = {\n\t\"../pages/add-user-pic/add-user-pic.module\": [\n\t\t783,\n\t\t4\n\t],\n\t\"../pages/comments/comments.module\": [\n\t\t784,\n\t\t3\n\t],\n\t\"../pages/login/login.module\": [\n\t\t785,\n\t\t2\n\t],\n\t\"../pages/reset-password/reset-password.module\": [\n\t\t786,\n\t\t1\n\t],\n\t\"../pages/signup/signup.module\": [\n\t\t787,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 256;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 256\n// module chunks = 5","import { Component, NgZone } from '@angular/core';\r\nimport { NavController, AlertController, NavParams, Events, LoadingController } from 'ionic-angular';\r\nimport { AuthProvider } from \"../../providers/auth/auth\";\r\n\r\nimport firebase from 'firebase';\r\nimport { ImageHandlerProvider } from \"../../providers/image-handler/image-handler\";\r\nimport { ImageViewerController } from \"ionic-img-viewer\";\r\nimport { FirebaseListObservable } from 'angularfire2/database';\r\nimport { AfoListObservable } from 'angularfire2-offline';\r\n\r\n\r\n@Component({\r\n  selector: 'page-about',\r\n  templateUrl: 'about.html'\r\n})\r\n\r\nexport class AboutPage { \r\n  images: AfoListObservable<any[]>;\r\n  firestore = firebase.storage();\r\n  newCommentId ;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public authService: AuthProvider, \r\n        public alertCtrl: AlertController, public imgHandler: ImageHandlerProvider, \r\n        public loadingCtrl: LoadingController,\r\n        public imageViewerCtrl: ImageViewerController, public events: Events, public zone: NgZone) {\r\n         \r\n       this.events.subscribe('commentsIncr', (imgcommentid) => {\r\n            this.newCommentId = imgcommentid;\r\n            console.log('in subscribe newCommentId:'+this.newCommentId);\r\n        })\r\n    \r\n  }\r\n\r\n  ionSelected() {\r\n    //console.log('about page is selected');\r\n  }\r\n\r\nlogout() {\r\n  this.authService.logoutUser().then(() => {\r\n   // console.log('user logout');\r\n    this.navCtrl.parent.parent.setRoot('LoginPage');\r\n  }).catch((err) => {\r\n    //console.log('err:'+err);\r\n  })\r\n}\r\n\r\nionViewDidLoad() {\r\n  \r\n}\r\n\r\n\r\n\r\n\r\nionViewWillEnter() {\r\n  let loader = this.loadingCtrl.create();\r\n  loader.present();\r\n    this.images = this.imgHandler.getAllImages();\r\n  loader.dismiss();\r\n\r\n}\r\n\r\ncommentImg(image) {\r\n  // console.log('image in commentImg:'+JSON.stringify(image));\r\n  this.newCommentId = '';\r\n  this.navCtrl.push('CommentsPage', {image:image});\r\n}\r\n\r\n\r\nonClick(imageToView) {\r\n // console.log('onClick()');\r\n  const viewer = this.imageViewerCtrl.create(imageToView)\r\n  viewer.present();\r\n}\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/about.ts","import {AfoListObservable} from 'angularfire2-offline';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { AuthProvider } from \"../../providers/auth/auth\";\r\nimport { Content } from 'ionic-angular';\r\n\r\nimport { FirebaseListObservable } from 'angularfire2/database';\r\n\r\n@Component({\r\n  selector: 'page-contact',\r\n  templateUrl: 'contact.html'\r\n})\r\nexport class ContactPage {\r\n  \r\n  users: AfoListObservable<any>;\r\n\r\n  @ViewChild(Content) content: Content;\r\n\r\n  constructor(public navCtrl: NavController, public authService: AuthProvider) {\r\n    this.users = this.authService.getAllUsers();\r\n  }\r\n\r\n  ionSelected() {\r\n    console.log('contacts page is selected');\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    // console.log('users:'+this.users);\r\n    this.users = this.authService.getAllUsers();\r\n    //  this.authService.getAllUsers().once('value', snap => {\r\n    //    var data = snap.val();\r\n    //     for(var key in snap.val()) {\r\n    //       if(key === 'photoUrl') {\r\n    //         this.users.push(\"data:image/jpeg;base64,\"+data[key]);\r\n    //       } else {\r\n    //     this.users.push(data[key]);\r\n    //       }\r\n    //   }\r\n    //  });\r\n  }\r\n\r\n  scrollToBottom() {\r\n    setTimeout(() => {\r\n      this.content.scrollToBottom();\r\n    }, 300)\r\n  }\r\n\r\n  logout() {\r\n    this.authService.logoutUser().then(() => {\r\n      console.log('user logout');\r\n      this.navCtrl.parent.parent.setRoot('LoginPage');\r\n    }).catch((err) => {\r\n      console.log('err:'+err);\r\n    })\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact.ts","import { Component, NgZone } from '@angular/core';\r\nimport { NavController, AlertController, LoadingController, ModalController, Platform, Events } from 'ionic-angular';\r\nimport { AuthProvider } from \"../../providers/auth/auth\";\r\nimport { ImageHandlerProvider } from \"../../providers/image-handler/image-handler\";\r\n\r\n// import { Geolocation, Geoposition } from '@ionic-native/geolocation';\r\n// import { NativeGeocoder, NativeGeocoderReverseResult } from '@ionic-native/native-geocoder';\r\n\r\nimport { EditUserModalPage } from \"../edit-user-modal/edit-user-modal\";\r\n\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\r\nimport { ImageViewerController } from \"ionic-img-viewer\";\r\n// import { StatusBar } from \"@ionic-native/status-bar\";\r\n// import { SplashScreen } from \"@ionic-native/splash-screen\";\r\n\r\nimport firebase from 'firebase';\r\n\r\n// import { Firebase } from '@ionic-native/firebase';\r\n\r\nimport 'rxjs/add/operator/map'\r\n// import { Badge } from '@ionic-native/badge';\r\nimport { CommentsProvider } from '../../providers/comments/comments';\r\nimport { MessagingProvider } from '../../providers/messaging/messaging';\r\n\r\nimport { AfoListObservable, AngularFireOfflineDatabase } from 'angularfire2-offline/database';\r\n// import { AfoListObservable, AngularFireOfflineDatabase } from 'angularfire2-offline/database';\r\n\r\n// import { Network } from '@ionic-native/network';\r\n// import {googlemaps} from 'googlemaps'\r\n//import { google } from 'google-maps';\r\nimport { Ng2ImgToolsService } from 'ng2-img-tools';\r\n\r\ndeclare var google: any;\r\n\r\nexport class NotificationModel {\r\n  public body: string;\r\n  public title: string;\r\n  public tap: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\n\r\nexport class HomePage {\r\n  user: any;\r\n  imgUrl;\r\n  img;\r\n  images:AfoListObservable<any>;\r\n  userProfile;\r\n  numberOfPic;\r\n  location = '';\r\n  firetokens = firebase.database().ref('/pushtokens');\r\n  firemsg = firebase.database().ref('/messages');\r\n  notificationToken;\r\n  storageProgress = 0;\r\n  running = false;\r\n  file: File;\r\n  message;\r\n  imageid;\r\n  commentid;\r\n  userid;\r\n  imagesCount=0;\r\n  commentsCount=0;\r\n  usersCount=0;\r\n\r\n  constructor(public navCtrl: NavController, private authService: AuthProvider, \r\n              public imgHandler: ImageHandlerProvider, public zone:NgZone, public alertCtrl: AlertController,\r\n              public loadingCtrl: LoadingController, \r\n              public modalCtrl: ModalController, public platform: Platform,  public imageViewerCtrl: ImageViewerController,\r\n              public afodb: AngularFireOfflineDatabase, public afiredb: AngularFireDatabase,\r\n              public msgService: MessagingProvider,\r\n              public events: Events, public commentsProvider: CommentsProvider, \r\n              private ng2ImgToolsService: Ng2ImgToolsService) {\r\n                this.getGeoLocation();\r\n                this.msgService.receiveMessage();\r\n                \r\n  }\r\n\r\n public getGeoLocation() {\r\n  if (navigator.geolocation) {\r\n      var options = {\r\n        enableHighAccuracy: true\r\n      };\r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        let lat = position.coords.latitude;\r\n        let long = position.coords.longitude;\r\n        let geocoder = new google.maps.Geocoder();\r\n        let latlng = new google.maps.LatLng(lat, long);\r\n        let request = {\r\n          latLng: latlng\r\n        };   \r\n          geocoder.geocode(request, (results, status) => {\r\n            if (status == google.maps.GeocoderStatus.OK) {\r\n              if (results[0] != null) {\r\n               this.location = results[0].address_components[results[0].address_components.length-4].short_name;                      \r\n              } else {\r\n                console.log('No address available');\r\n              }\r\n            }\r\n          });\r\n\r\n      }, error => {\r\n        console.log(error);\r\n      }, options);\r\n  }\r\n}\r\n\r\n\r\n  ionViewWillEnter() {\r\n  let loading = this.loadingCtrl.create();\r\n    loading.present();\r\n  var imagesReceived = false;\r\n   this.authService.getUserData().on('value', snapshot => {\r\n     this.user = snapshot.val();\r\n   });\r\n\r\n   var network = navigator.onLine;\r\n\r\n  this.images = this.imgHandler.getImagesOfCurrentUser();\r\n\r\n\r\n   loading.dismiss(); \r\n  }\r\n\r\n  onClick(imageToView) {\r\n    const viewer = this.imageViewerCtrl.create(imageToView);\r\n    viewer.present();\r\n  }\r\n\r\nlogout() {\r\n  this.authService.logoutUser().then(() => {\r\n    this.navCtrl.parent.parent.setRoot('LoginPage');\r\n  }).catch((err) => {\r\n    alert('err:'+JSON.stringify(err));\r\n  })\r\n}\r\n\r\nchoosePic(event) {\r\n  return new Promise((resolve, reject) => {\r\n      if(event.target.files.length > 0) {\r\n        this.file = event.target.files[0];\r\n        this.ng2ImgToolsService.resize([this.file], 500, 500)\r\n        .subscribe(result => {\r\n          console.info('result:'+result);\r\n          resolve(result);\r\n        }, error => {\r\n          console.log('error:'+error);\r\n          reject(error);\r\n        })\r\n      }\r\n      });\r\n    }\r\n\r\n\r\n\r\n\r\naddPic(event) {\r\n  console.log('navigator.onLine:'+navigator.onLine);\r\n  if(navigator.onLine) {\r\n    let loading = this.loadingCtrl.create();\r\n    loading.present();\r\n    this.choosePic(event).then((result)=> {\r\n      this.imgHandler.addPicInStorage(result).then((obj) => {\r\n         var comment;\r\n          var alert = this.alertCtrl.create({\r\n           buttons:[\r\n             {\r\n               text:'OK',\r\n               role:'cancel',\r\n               handler: data => {\r\n                 comment = data.comment;\r\n                 this.imgHandler.addPicUrlInDatabase(this.location, comment, obj['url'], this.user, obj['storageuid'])\r\n                 .then(() => {\r\n                       loading.dismiss().then(()=> {\r\n                        this.imgHandler.getImgFromUrl(obj['url']).then((img) => {\r\n                          console.log('here');\r\n                          }).catch((err) => {\r\n                            this.alertErr(\"err4:\"+err);\r\n                          })\r\n                    })\r\n                }).catch(err => {\r\n                   loading.dismiss().then(() => {\r\n                      this.alertErr(\"err3:\"+err);\r\n                   }) \r\n                })\r\n               }\r\n             }\r\n           ],\r\n           inputs: [\r\n             {\r\n               name:'comment',\r\n               placeholder:'Add comment'\r\n             }\r\n           ]\r\n          })\r\n          loading.dismiss().then(() => {\r\n            alert.present();\r\n          }) \r\n         }).catch(err => {\r\n           loading.dismiss();\r\n           this.alertErr(\"e2:\"+err);\r\n           console.log('err2:'+err);\r\n         })\r\n    }).catch(error => {\r\n      this.alertErr(\"er1:\"+error);\r\n      loading.dismiss();\r\n      console.log('err1:'+error);\r\n    })\r\n  } else {\r\n    alert('Network is not available!');\r\n  }\r\n}  \r\n\r\nalertErr(err) {\r\n  var alert = this.alertCtrl.create({\r\n     message: err.message,\r\n     buttons:[\r\n       {\r\n         text:\"OK\",\r\n         role:'cancel'\r\n       }\r\n     ]\r\n  })\r\n  alert.present();\r\n}\r\n\r\n\r\ndeleteImg(img) {\r\n  return this.images.remove(img).then(() => {\r\n    // console.log('image is deleted from storage');\r\n    firebase.storage().ref().child('/images/'+img.storageuid).delete().then(() => {\r\n      this.imgHandler.decrNrOfPic().then(()=> {\r\n        this.commentsProvider.deleteComment(img).then(() => {\r\n          // console.log('img:'+JSON.stringify(img));\r\n        })\r\n    }).catch(err=> {\r\n      alert('error:'+JSON.stringify(err));\r\n    })\r\n    }).catch(err => {\r\n      alert('error:'+JSON.stringify(err));\r\n    })\r\n  // var index = this.images.indexOf(img);\r\n  // this.images.splice(index, 1);\r\n  // this.imgHandler.deleteImageFromStorage(img).then(() => {\r\n  //   this.commentsProvider.deleteComment(img).then(() => {\r\n  //   })\r\n  // })\r\n  // .catch((err)=> {\r\n  //    alert(err);\r\n  // })\r\n  // console.log('img.picuid:'+img.picuid);\r\n  // this.images.remove(img.picuid);\r\n  \r\n})\r\n}\r\n\r\nopenModal() {\r\n   let editUserModal = this.modalCtrl.create(EditUserModalPage, {user:this.user});\r\n   editUserModal.onDidDismiss((data) => {\r\n     this.authService.checkDuplicateDisplayName(data).then(() => {\r\n        this.authService.updateDisplayName(data);\r\n     }).catch(err => {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Error!',\r\n            subTitle: err.message,\r\n            buttons:[\r\n              {\r\n                text:'OK',\r\n                role:'cancel'\r\n              }\r\n            ]\r\n          })\r\n          alert.present();\r\n      }) \r\n      this.imgHandler.getImagesOfCurrentUser();\r\n     })\r\n   editUserModal.present();\r\n}\r\n\r\ncommentImg(img) {\r\n  this.navCtrl.push('CommentsPage', {image:img});\r\n}\r\n\r\n\r\n\r\n\r\n      \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\n\r\n\r\n\r\n// @IonicPage()\r\n@Component({\r\n  selector: 'page-edit-user-modal',\r\n  templateUrl: 'edit-user-modal.html',\r\n})\r\nexport class EditUserModalPage {\r\n  \r\n  user: object = this.navParams.get('user');\r\n  displayName:string;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad EditUserModalPage');\r\n  }\r\n\r\n  closeModal() {\r\n    this.viewCtrl.dismiss(this.displayName);\r\n  }\r\n\r\n  changeUserPic() {\r\n   this.navCtrl.push('AddUserPicPage');\r\n  }\r\n\r\n  \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-user-modal/edit-user-modal.ts","export const config = {\r\n    apiKey: \"AIzaSyDb5uFmun5tHn-IXc35tOfvqjJDYjX_ss8\",\r\n    authDomain: \"oil-chat.firebaseapp.com\",\r\n    databaseURL: \"https://oil-chat.firebaseio.com\",\r\n    projectId: \"oil-chat\",\r\n    storageBucket: \"oil-chat.appspot.com\",\r\n    messagingSenderId: \"566986544653\"\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.firebaseconfig.ts","import { Injectable } from \"@angular/core\";\r\nimport { AuthProvider } from \"../providers/auth/auth\";\r\nimport { FormControl } from \"@angular/forms\";\r\n\r\n\r\n@Injectable()\r\nexport class UsernameValidator {\r\n\r\n    debouncer: any;\r\n\r\n    constructor(public authProvider: AuthProvider) {\r\n\r\n    }\r\n\r\n    checkUsername(control: FormControl) {\r\n        // clearTimeout(this.debouncer);\r\n    return new Promise((resolve, reject) => {\r\n        this.debouncer = setTimeout(() => {\r\n          this.authProvider.checkDuplicateDisplayName(control.value).then((res) => {\r\n              if(res) {\r\n                  resolve(null);\r\n              } else {\r\n                resolve({'usernameInUse': true});\r\n              }    \r\n          })\r\n        }, 1000)\r\n    })\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/username.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { AppModule } from './app.module';\r\n\r\n\r\nenableProdMode();\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler, Injectable } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\n\r\nimport { AboutPage } from '../pages/about/about';\r\nimport { ContactPage } from '../pages/contact/contact';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { ImageHandlerProvider } from '../providers/image-handler/image-handler';\r\n// import { FileChooser } from \"@ionic-native/file-chooser\";\r\n// import { File } from '@ionic-native/file';\r\n// import { FilePath } from '@ionic-native/file-path';\r\n// import { Camera } from '@ionic-native/camera';\r\n\r\n// import { Geolocation } from '@ionic-native/geolocation';\r\n// import { NativeGeocoder } from \"@ionic-native/native-geocoder\";\r\n\r\n// import { GooglePlus } from '@ionic-native/google-plus';\r\n\r\n\r\nimport { config } from './app.firebaseconfig';\r\n\r\nimport firebase from 'firebase';\r\n\r\nimport { CommentsProvider } from '../providers/comments/comments';\r\n\r\nimport { AngularFireDatabaseModule, AngularFireDatabase } from 'angularfire2/database';\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { AngularFireOfflineModule } from 'angularfire2-offline';\r\nimport { AngularFireOfflineDatabase } from 'angularfire2-offline/database';\r\n\r\nimport { IonicImageViewerModule } from 'ionic-img-viewer';\r\nimport { UsernameValidator } from '../validators/username';\r\nimport { ProgressBarComponent } from '../components/progress-bar';\r\n// import { Facebook } from '@ionic-native/facebook';\r\nimport { EditUserModalPage } from '../pages/edit-user-modal/edit-user-modal';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { MessagingProvider } from '../providers/messaging/messaging';\r\n// import { Network } from '@ionic-native/network';\r\n//import { BrowserModule } from '@angular/platform-browser';\r\nimport { Ng2ImgToolsModule } from 'ng2-img-tools';\r\n// class CameraMock extends  from Camera {\r\n//   getPicture(options){\r\n//     return new Promise( (resolve, reject) => {\r\n//       resolve(`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`);\r\n//     });\r\n//   }\r\n// }\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    AboutPage,\r\n    ContactPage,\r\n    HomePage,\r\n    TabsPage,\r\n    ProgressBarComponent,\r\n    EditUserModalPage\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    IonicModule.forRoot(MyApp),\r\n    AngularFireModule.initializeApp(config),\r\n    IonicImageViewerModule,\r\n    AngularFireOfflineModule,\r\n    Ng2ImgToolsModule\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    AboutPage,\r\n    ContactPage,\r\n    HomePage,\r\n    TabsPage,\r\n    EditUserModalPage\r\n  ],\r\n  providers: [\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    AuthProvider,\r\n    ImageHandlerProvider,\r\n    AngularFireModule,\r\n    AngularFireDatabaseModule,\r\n    AngularFireDatabase,\r\n    CommentsProvider,\r\n    UsernameValidator,\r\n    StatusBar,\r\n    SplashScreen,\r\n    AngularFireAuth,\r\n    MessagingProvider\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {AfoListObservable, AngularFireOfflineDatabase} from 'angularfire2-offline';\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport firebase from 'firebase';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\r\nimport {AngularFireAuth} from 'angularfire2/auth';\r\n// import { GooglePlus } from '@ionic-native/google-plus';\r\n// import { Facebook } from '@ionic-native/facebook';\r\n\r\n\r\n@Injectable()\r\nexport class AuthProvider {\r\n   userPic ='https://firebasestorage.googleapis.com/v0/b/oil-chat.appspot.com/o/user.png?alt=media&token=9d84205e-d530-4815-b38a-e950417dce7d';\r\n   currentUser: any;\r\n   userProfile: any;\r\n   usersRef = firebase.database().ref('/userProfile');\r\n   userFire: AfoListObservable<any[]>;\r\n\r\n  constructor(public afAuth: AngularFireAuth, public afdb: AngularFireOfflineDatabase ) {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n       if(user) {\r\n         this.currentUser = user;\r\n         this.userProfile = firebase.database().ref(`/userProfile/${user.uid}`);\r\n         //console.log('user in auth constructor:'+JSON.stringify(this.userProfile));\r\n       }\r\n       //console.log('no user in auth constructor');\r\n    })\r\n    this.userFire = this.afdb.list('/usersProfile');\r\n  }\r\n\r\n\r\n\r\nloginWithGoogle() {\r\n  return this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\r\n}\r\n\r\naddNewUserFire(user) {\r\n  return new Promise((resolve, reject) => {\r\n    console.log('addNewUserFire');\r\n    this.usersRef.orderByChild('email').equalTo(user.email).on('value', (snap) => {\r\n  //console.log('snap:'+JSON.stringify(snap.val()));\r\n    if(snap.val() !== null) {\r\n      resolve();\r\n      } else {\r\n        firebase.database().ref('/userProfile').child(user.uid).set({\r\n          email: user.email,\r\n            displayName: user.displayName,\r\n            photoUrl: user.photoURL,\r\n            nrOfPic:0\r\n            }).then(() => {\r\n              resolve(true);\r\n            }).catch((err) => {\r\n              alert('err:'+JSON.stringify(err));\r\n              reject(err);\r\n            })\r\n  }\r\n})\r\n  })\r\n}\r\n\r\nloginWithFacebook1() {\r\n  return this.afAuth.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider());\r\n}\r\n\r\naddNewUser(mail, password, nickname) {\r\n  var promise = new Promise((resolve, reject) => {\r\n        firebase.auth().createUserWithEmailAndPassword(mail, password).then((newUser) => { \r\n          let user = newUser;    \r\n            this.checkDuplicateDisplayName(nickname).then(()=> {\r\n              firebase.database().ref('/userProfile').child(user.uid).set({\r\n                email: mail,\r\n                displayName: nickname,\r\n                photoUrl: this.userPic,\r\n                nrOfPic:0\r\n              });\r\n              resolve();\r\n            }).catch((err) => { \r\n              firebase.auth().currentUser.delete().then(() => {\r\n                console.log('user is deleted');\r\n                reject(err);\r\n              }).catch(err => {\r\n                reject(err);\r\n              })\r\n            });      \r\n            }).catch(err => {\r\n              reject(err);\r\n            })\r\n  })\r\n  return promise;\r\n}\r\n\r\nloginEmailPassword(email, password) {\r\n   return firebase.auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nlogoutUser() {\r\n  return firebase.auth().signOut();\r\n}\r\n\r\ngetUserData() {\r\n  //console.log('userProfile in GetUserData:'+JSON.stringify(this.userProfile)); \r\n  return this.userProfile;\r\n}\r\n\r\n\r\ngetAllUsers() {\r\n  // return firebase.database().ref('/userProfile').orderByChild('uid');\r\n  return this.afdb.list('/userProfile');\r\n}\r\n\r\naddUserPicInDatabase(url) {\r\n   var promise = new Promise((resolve, reject) => {\r\n     this.userProfile.update({\r\n       photoUrl: url\r\n     }).then(() => {\r\n        resolve({'success':true});\r\n        //console.log('currentUser:'+JSON.stringify(firebase.auth().currentUser));\r\n     }).catch((err) => {\r\n       reject(err);\r\n     })\r\n   });\r\n   return promise;\r\n}\r\n\r\n// googleLogin() {\r\n//   var promise = new Promise((resolve, reject) => {\r\n//     this.googleplus.login({\r\n//       'webClientId':'566986544653-jjekvnfakr339ttmonbcbjgkhcgutnau.apps.googleusercontent.com',\r\n//       'offline':true\r\n//     })\r\n//     .then((res) => {\r\n//         firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(res.idToken))\r\n//           .then((response) => {\r\n//             let res = response;\r\n//             this.usersRef.orderByChild('email').equalTo(res.email).on('value', (snap) => {\r\n//               //console.log('snap:'+JSON.stringify(snap.val()));\r\n//               if(snap.val() !== null) {\r\n//                 resolve(true);\r\n//                 //console.log('email exists');\r\n//               } else {\r\n//                 firebase.database().ref('/userProfile').child(response.uid).set({\r\n//                   email: response.email,\r\n//                   displayName: response.displayName,\r\n//                   photoUrl: response.photoURL,\r\n//                   nrOfPic:0,\r\n//                   username: this.reverseString(response.displayName)\r\n//                 }).then(() => {\r\n//                   resolve(true);\r\n//                 })\r\n//                  .catch(err => {\r\n//                    //console.log('err:'+err);\r\n//                    reject(err);\r\n//               })\r\n//               }   \r\n//         })\r\n//       })\r\n//   }).\r\n//           catch(err => {\r\n//            reject(err);\r\n//           })\r\n// })      \r\n//   return promise;\r\n// }\r\n\r\n\r\n// facebookLogin(): Promise<any> {\r\n//   return new Promise((resolve, reject)=> {\r\n//     this.facebook.login(['email']).then( response => {\r\n//       const facebookCredential = firebase.auth.FacebookAuthProvider\r\n//         .credential(response.authResponse.accessToken);\r\n//         //console.log('facebookCredential:'+JSON.stringify(facebookCredential));\r\n//       firebase.auth().signInWithCredential(facebookCredential)\r\n//         .then(success => { \r\n//           this.usersRef.child(success.uid).once('value', (snap) => {\r\n//               if(snap.val() !== null) {\r\n//                 resolve(true); // user already exists\r\n//               } else {  //first time login\r\n//                 this.usersRef.child(success.uid).set({\r\n//                   email: success.email,\r\n//                   displayName: success.displayName,\r\n//                   photoUrl: success.photoURL,\r\n//                   nrOfPic:0,\r\n//                   username: this.reverseString(success.displayName)\r\n//                 }).then(() => {\r\n//                   resolve(true);\r\n//                 }).catch((err) => {\r\n//                   alert('err:'+JSON.stringify(err));\r\n//                   reject(err);\r\n//                 }) \r\n//               }\r\n//           }).catch((err) => {\r\n//             alert('err:'+JSON.stringify(err));\r\n//             reject(err);\r\n//           })\r\n//         }).catch((error) => {\r\n//        //console.log(error);\r\n//        reject(error);\r\n//       });\r\n//     }).catch((error) => {\r\n//      // console.log(error);\r\n//       reject(error);\r\n//      });\r\n//   })\r\n// }\r\n\r\nresetPassword(email: string) {\r\n  return firebase.auth().sendPasswordResetEmail(email);\r\n}\r\n\r\n\r\ngetUserByEmail(email) {\r\n  var promise = new Promise((resolve, reject) => {\r\n    firebase.database().ref('/userProfile').orderByChild('uid').once('value', (snap) => {\r\n     var data = snap.val();\r\n      for(var key in data) {\r\n        if(key === 'email') {\r\n          if(data[key] === email) {\r\n            ////console.log('data[key]:'+data[key]);\r\n            resolve({'success':true});\r\n          }\r\n      }\r\n      }\r\n    })\r\n  })\r\n  return promise;\r\n}\r\n\r\n\r\nupdateDisplayName(name: string) {\r\n   if(this.currentUser.displayName === name.trim()) {\r\n     return;\r\n   } else {\r\n     return firebase.database().ref('/userProfile').child(firebase.auth().currentUser.uid)\r\n     .update({\r\n       displayName: name\r\n     })\r\n   }\r\n}\r\n\r\n\r\ncheckDuplicateDisplayName(name) {\r\n  //console.log('checkDuplicateDisplayName');\r\n  return new Promise((resolve, reject) => {\r\n    firebase.database().ref('/userProfile').orderByChild('displayName').equalTo(name)\r\n      .once('value', (snap) => {\r\n       // console.log('snap.val():'+JSON.stringify(snap.val()));\r\n        if(snap.val() !== null) {\r\n         // console.log('snap.val is not null');\r\n          reject({message:\"Username already exists\"});\r\n        } else {\r\n          console.log('snap.val is nuull');\r\n          resolve();\r\n        }\r\n      })\r\n  })\r\n}\r\n\r\ngetUsernameFromUid(name) {\r\n  var promise = new Promise((resolve, reject) => {\r\n   firebase.database().ref(`/userProfile`).orderByChild('username').equalTo(name).on('value', (snap)=> {\r\n     //console.log('getUserDisplayNameFromUid:'+JSON.stringify(snap.val()));\r\n     let displayName = snap.val()[firebase.auth().currentUser.uid].displayName;\r\n     resolve(displayName);\r\n   })\r\n  })\r\n  return promise;\r\n}\r\n\r\ngetUserFromUid(uid) {\r\n  var promise = new Promise((resolve, reject) => {\r\n    firebase.database().ref(`/userProfile`).child(uid).on('value', (snap) => {\r\n      resolve(snap.val());\r\n    })\r\n   })\r\n   return promise;\r\n }\r\n\r\n\r\nreverseString(str) {\r\n    var splitString = str.split(\"\"); \r\n    var reverseArray = splitString.reverse(); \r\n    var joinArray = reverseArray.join(\"\"); \r\n  return joinArray;\r\n}\r\n\r\nsetFcmKey(token) {\r\n  console.log('setFcmKey');\r\n   return this.afdb.list('/FCMTokens').push({\r\n       fcm_token:token,\r\n       uid:firebase.auth().currentUser.uid\r\n          }) \r\n}\r\n\r\nremoveFcmToken() {\r\n  return null;\r\n//   console.log('removeFcmToken');\r\n//   //  return this.afdb.list('/FCMtokens/'+firebase.auth().currentUser.uid).remove();\r\n//   return new Promise((resolve, reject) => {\r\n//     firebase.database().ref('/FCMTokens').orderByChild('uid').equalTo(firebase.auth().currentUser.uid)\r\n//   .on('value', snap => {\r\n//     console.log('snap:'+JSON.stringify(snap.val()));\r\n//     if(snap !== null) {\r\n//       snap.ref.remove();\r\n//     resolve();\r\n//     }\r\n//   })\r\n// })\r\n}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\nimport firebase from 'firebase';\r\nimport { AngularFireModule } from 'angularfire2';\r\n\r\nimport { config } from './app.firebaseconfig';\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage:any;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n    platform.ready().then(() => {\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n      console.log('here')\r\n    });\r\n    firebase.initializeApp(config);\r\n    AngularFireModule.initializeApp(config)\r\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\r\n      if(user) {\r\n        console.log('user:'+JSON.stringify(user));\r\n         this.rootPage = TabsPage;\r\n         unsubscribe();\r\n       } else {\r\n         this.rootPage = 'LoginPage';\r\n         unsubscribe();\r\n       }\r\n    }) \r\n\r\n    \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Input, Component } from \"@angular/core\";\r\n\r\n\r\n@Component ({\r\n    selector:'progress-bar',\r\n    templateUrl:'progress-bar.html'\r\n})\r\n\r\nexport class ProgressBarComponent {\r\n   \r\n @Input('progress') progress;\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar.ts"],"sourceRoot":""}