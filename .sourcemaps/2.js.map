{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/validators/email.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LoginPage } from './login';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(LoginPage),\r\n  ],\r\n})\r\nexport class LoginPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { FormControl } from '@angular/forms'\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class EmailValidator {\r\n   static isValid (control: FormControl) {\r\n       const re = /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\r\n       .test(control.value);\r\n       if (re) {\r\n           return null;\r\n       } else {\r\n           return {\r\n               'invalidEmail':true\r\n           }\r\n       }\r\n   }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController } from 'ionic-angular';\r\nimport { FormGroup, Validators, FormBuilder } from \"@angular/forms\";\r\nimport { EmailValidator } from \"../../validators/email\";\r\nimport { TabsPage } from \"../tabs/tabs\";\r\nimport { AuthProvider } from \"../../providers/auth/auth\";\r\n// import { GooglePlus } from '@ionic-native/google-plus';\r\nimport firebase from 'firebase';\r\n// import { Facebook } from '@ionic-native/facebook'\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\n\r\nexport class LoginPage {\r\n  loginForm: FormGroup\r\n  loader;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public fb: FormBuilder,\r\n  public authService: AuthProvider, public alertCtrl: AlertController, public loaderCtrl: LoadingController) {\r\n    this.loginForm = fb.group({\r\n      email: ['', Validators.compose([Validators.required, \r\n             EmailValidator.isValid])],\r\n      password: ['', Validators.compose([Validators.required, \r\n                Validators.minLength(6)])]\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n\r\n  loginUser() {\r\n    this.loader = this.loaderCtrl.create();\r\n    this.loader.present();\r\n    this.authService.loginEmailPassword(this.loginForm.value.email, this.loginForm.value.password).\r\n    then((user) => {\r\n      console.log('user in login:'+user);\r\n      this.loader.dismiss().then(() => {\r\n        this.navCtrl.push(TabsPage);\r\n      })\r\n    }).catch((err) => {\r\n      this.loader.dismiss().then(()=> {\r\n        let alert = this.alertCtrl.create({\r\n        message: err.message,\r\n        buttons: [\r\n          {\r\n            text:'OK',\r\n            role:'cancel'\r\n          }\r\n        ]\r\n      })\r\n      alert.present();\r\n      })\r\n    })\r\n  }\r\n\r\n  goToSignup() {\r\n    this.navCtrl.push('SignupPage');\r\n  }\r\n\r\n  goToResetPassword() {\r\n     this.navCtrl.push('ResetPasswordPage');\r\n  }\r\n\r\n  loginWithGoogle() {\r\n    let loader = this.loaderCtrl.create();\r\n    loader.present();\r\n    // console.log('goglelogin')\r\n    this.authService.loginWithGoogle().then(data => {\r\n      // console.log('data:'+JSON.stringify(data));\r\n         this.authService.addNewUserFire(data.user).then(() => {\r\n           this.navCtrl.setRoot(TabsPage);\r\n           loader.dismiss();\r\n         })\r\n    }).catch(err => {\r\n      alert('err:'+JSON.stringify(err));\r\n      loader.dismiss();\r\n    })\r\n  }\r\n\r\n  loginWithFacebook5() {\r\n    this.authService.loginWithFacebook1()\r\n    .then(data => {\r\n      console.log('data:'+JSON.stringify(data));\r\n      this.authService.addNewUserFire(data.user).then(() => {\r\n        this.navCtrl.setRoot(TabsPage);\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}